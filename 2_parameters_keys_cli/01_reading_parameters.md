# Чтение параметров командной строки

## Введение

В bash-скриптах параметры командной строки - это аргументы, которые передаются скрипту при его запуске. В этом уроке мы рассмотрим различные способы работы с параметрами.

## Проверка параметров

### Базовый синтаксис

```bash
# Проверка наличия параметров
if [ $# -eq 0 ]; then
    echo "Использование: $0 <параметр1> <параметр2> ..."
    exit 1
fi
```

### Примеры использования

```bash
#!/bin/bash

# Проверка количества параметров
if [ $# -lt 2 ]; then
    echo "Ошибка: требуется минимум 2 параметра"
    echo "Использование: $0 <имя> <возраст>"
    exit 1
fi

# Использование параметров
name="$1"
age="$2"

echo "Имя: $name"
echo "Возраст: $age"
```

## Подсчёт параметров

### Использование $#

```bash
#!/bin/bash

# Вывод количества параметров
echo "Количество параметров: $#"

# Перебор всех параметров
for (( i=1; i<=$#; i++ ))
do
    echo "Параметр $i: ${!i}"
done
```

### Проверка диапазона

```bash
#!/bin/bash

# Проверка диапазона параметров
if [ $# -lt 1 ] || [ $# -gt 3 ]; then
    echo "Ошибка: требуется от 1 до 3 параметров"
    exit 1
fi
```

## Захват всех параметров командной строки

### Использование $@ и $*

```bash
#!/bin/bash

# Вывод всех параметров
echo "Все параметры (как отдельные слова):"
for param in "$@"
do
    echo "Параметр: $param"
done

echo -e "\nВсе параметры (как одна строка):"
echo "$*"
```

### Сохранение параметров в массив

```bash
#!/bin/bash

# Сохранение параметров в массив
params=("$@")

# Вывод массива
echo "Параметры в массиве:"
for param in "${params[@]}"
do
    echo "Параметр: $param"
done
```

## Команда shift

### Базовое использование

```bash
#!/bin/bash

# Обработка параметров с помощью shift
while [ $# -gt 0 ]
do
    echo "Текущий параметр: $1"
    shift
done
```

### Shift с числом

```bash
#!/bin/bash

# Пропуск первых двух параметров
shift 2

# Обработка оставшихся параметров
while [ $# -gt 0 ]
do
    echo "Параметр: $1"
    shift
done
```

## Практическое задание

Создайте скрипт `parameters_demo.sh`:

```bash
#!/bin/bash

# 1. Проверка параметров
if [ $# -eq 0 ]; then
    echo "Использование: $0 <параметр1> [параметр2] [параметр3]"
    exit 1
fi

# 2. Вывод информации о параметрах
echo "=== Информация о параметрах ==="
echo "Имя скрипта: $0"
echo "Количество параметров: $#"
echo "Все параметры: $*"

# 3. Перебор параметров
echo -e "\n=== Перебор параметров ==="
for (( i=1; i<=$#; i++ ))
do
    echo "Параметр $i: ${!i}"
done

# 4. Использование shift
echo -e "\n=== Использование shift ==="
echo "Первый параметр: $1"
shift
echo "После shift: $1"

# 5. Сохранение параметров в массив
echo -e "\n=== Параметры в массиве ==="
params=("$@")
for param in "${params[@]}"
do
    echo "Параметр: $param"
done
```

## Важные моменты

- Всегда проверяйте наличие необходимых параметров
- Используйте кавычки при работе с параметрами
- Следите за порядком параметров
- Обрабатывайте ошибки
- Документируйте использование скрипта

## Дополнительные материалы

- [Bash Positional Parameters](https://www.gnu.org/software/bash/manual/bash.html#Positional-Parameters)
- [Bash Special Parameters](https://www.gnu.org/software/bash/manual/bash.html#Special-Parameters)

## Вопросы для самопроверки

1. Как проверить наличие параметров?
2. В чем разница между $@ и $*?
3. Как работает команда shift?
4. Как сохранить параметры в массив? 